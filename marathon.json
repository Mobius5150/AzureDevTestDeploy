{
  "id": "azure",
  "groups": [
    {
      "apps": [
        {
          "id": "web",
          "cpus": 0.5,
          "mem": 500,
          "instances": 1,
          "ports": [
            80
          ],
          "requirePorts": true,
          "container": {
            "docker": {
              "image": "azuredemo/web:azurecon",
              "network": "HOST"
            },
            "type": "DOCKER"
          },
          "dependencies": [
            "/azure/demo/rest"
          ]
        },
        {
          "id": "rest",
          "cpus": 0.5,
          "mem": 500,
          "instances": 1,
          "ports": [
            8080
          ],
          "requirePorts": true,
          "container": {
            "docker": {
              "image": "azuredemo/rest:azurecon",
              "network": "HOST"
            },
            "type": "DOCKER"
          }
        },
        {
          "id": "load-test",
          "cpus": 0.5,
          "mem": 500,
          "instances": 1,
          "container": {
            "docker": {
              "image": "azuredemo/load_test:azurecon",
              "network": "HOST"
            },
            "type": "DOCKER"
          },
          "dependencies": [
            "/azure/demo/lb"
          ]
        },
        {
          "id": "lb",
          "cpus": 0.5,
          "mem": 500,
          "instances": 1,
          "ports": [
            80
          ],
          "env": {
            "BACKENDS": "web-demo-azure.marathon.mesos:80"
          },
          "requirePorts": true,
          "container": {
            "docker": {
              "image": "eeacms/haproxy",
              "network": "HOST"
            },
            "type": "DOCKER"
          },
          "dependencies": [
            "/azure/demo/web"
          ]
        }
      ],
      "id": "demo"
    }
  ]
}
